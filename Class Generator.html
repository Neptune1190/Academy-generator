<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Rite Generator</title>
<style>
  body {
    font-family: monospace;
    background: #0e0e10;
    color: #f4f4f4;
    padding: 20px;
  }
  h2 { color: #ff5555; }
  label { display: block; margin-top: 10px; }
  input, select {
    width: 100%;
    padding: 6px;
    background: #1e1e22;
    color: #fff;
    border: 1px solid #333;
    border-radius: 5px;
  }
  button {
    margin-top: 15px;
    padding: 10px 20px;
    background: #ff5555;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }
  textarea {
    width: 100%;
    height: 280px;
    margin-top: 15px;
    background: #1e1e22;
    color: #00ff9c;
    border: 1px solid #333;
    border-radius: 5px;
    padding: 10px;
  }
</style>
</head>
<body>
  <h2>☰ Rite Format Generator ☰</h2>

  <label>Host (Discord ID or tag):</label>
  <input id="host" placeholder="<@1234567890>">

  <label>Rite Type:</label>
  <select id="rite">
    <option value="Ascension Ceremony">Ascension Ceremony</option>
    <option value="Korriban Excursion">Korriban Excursion</option>
    <option value="Rite of Advancement">Rite of Advancement</option>
    <option value="Rite of Lore">Rite of Lore</option>
    <option value="Rite of Doctrine">Rite of Doctrine</option>
    <option value="Rite of Passage">Rite of Passage</option>
  </select>

  <label>Server Name / Private Server Code:</label>
  <input id="server" placeholder="Server name or code">

  <button onclick="generate()">Generate Message</button>

  <textarea id="output" readonly></textarea>

<script>
function generate() {
  const host = document.getElementById('host').value || "<@000000000000000000>";
  const rite = document.getElementById('rite').value;
  const server = document.getElementById('server').value || "N/A";

  const roleMap = {
    "Ascension Ceremony": "<@&1151341324298092614>",
    "Korriban Excursion": "<@&1151341234615484439>",
    "Rite of Advancement": "<@&1150187179742609408>",
    "Rite of Lore": "<@&1150186944299536404>",
    "Rite of Doctrine": "<@&1150186946153418833>",
    "Rite of Passage": "<@&873072129816551427>"
  };

  const location = (rite === "Korriban Excursion") ? "Korriban" : "Acolyte Barracks";

  // Newfoundland Time = UTC-2:30
  const now = new Date();
  const utcMillis = now.getTime() + now.getTimezoneOffset() * 60000;
  const newfoundlandOffsetMillis = (-2.5) * 60 * 60 * 1000;
  const newfoundlandNow = new Date(utcMillis + newfoundlandOffsetMillis);
  const startTime = new Date(newfoundlandNow.getTime() + 10 * 60 * 1000);
  const discordTimestamp = `<t:${Math.floor(startTime.getTime() / 1000)}:R>`;

  const sithEmoji = "<:sith:1155672133838581860>";
  const header = `☰  ${sithEmoji}   | Rite of ${rite} |  ${sithEmoji}  ☰`;
  const content = `╭─────────────────────────╮
Host: ${host}
Location: ${location} | ${server}
Status: Pending
Passed: 
Starting time: ${discordTimestamp}
Time of conclusion : 
Note: Do not attend if you are on cooldown or at the rank of Youngling III+ in TJO.
╰─────────────────────────╯
${roleMap[rite]}`;

  document.getElementById('output').value = `${header}\n${content}`;
}
</script>
</body>
</html>
